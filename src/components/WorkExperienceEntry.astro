---
import FormattedDate from "./FormattedDate.astro";
import type { CollectionEntry } from "astro:content";
import type { TimelineCollectionKey } from "../content/config";

interface Props {
  entry: CollectionEntry<TimelineCollectionKey.WorkExperience>;
}

const {
  entry: {
    data: { title, role, location, locationType, startingDate, endingDate },
    render,
    slug,
  },
} = Astro.props;

const { Content } = await render();
---

<section id={slug}>
  <h3>{title} - {role}</h3>
  <ul class="two-columns">
    <li class="icon icon-location">
      <span>{location} - {locationType}</span>
    </li>
    <li class="icon icon-calendar">
      <FormattedDate date={startingDate} /> - {
        endingDate ? <FormattedDate date={endingDate} /> : "Actualidad"
      }
    </li>
  </ul>
  <Content />
</section>
